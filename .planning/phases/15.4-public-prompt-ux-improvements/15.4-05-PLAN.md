---
phase: 15.4-public-prompt-ux-improvements
plan: 05
type: gap_closure
source: 15.4-UAT.md
created: 2026-02-02
---

# Phase 15.4 Plan 05: UAT Gap Closure

**Purpose:** Remove unused/unwanted features identified during UAT

## Gaps to Close

### Gap 1: Remove "View Public Version" Button
- **Test:** 3
- **Reason:** Owner auto-redirect from Library makes this button useless (navigating to a page that immediately redirects back)
- **Fix:** Remove button and related props

### Gap 2: Remove Preview as Public Feature
- **Test:** 9
- **Reason:** User decision - feature adds too much complexity
- **Fix:** Delete component and remove all references

## Tasks

### Task 1: Remove View Public Version Button

**Files:**
- `src/components/PromptView.tsx`
- `src/pages/PromptDetail.tsx`

**Changes:**
1. In `PromptView.tsx`:
   - Remove `showViewPublicButton?: boolean` prop
   - Remove `onViewPublicVersion?: () => void` prop
   - Remove the View Public Version button JSX
   - Clean up imports if Globe icon no longer needed

2. In `PromptDetail.tsx`:
   - Remove `showViewPublicButton` prop from PromptView
   - Remove `onViewPublicVersion` handler
   - Remove navigate import if no longer needed

**Commit:** `fix(15.4): remove View Public Version button (obsolete with auto-redirect)`

### Task 2: Remove Preview as Public Feature

**Files:**
- `src/components/PublicPreviewModal.tsx` (DELETE)
- `src/components/PromptView.tsx`
- `src/pages/PromptDetail.tsx`

**Changes:**
1. Delete `src/components/PublicPreviewModal.tsx`

2. In `PromptView.tsx`:
   - Remove `showPreviewButton?: boolean` prop
   - Remove `onPreview?: () => void` prop
   - Remove Preview as Public button JSX
   - Remove Eye icon import if no longer needed

3. In `PromptDetail.tsx`:
   - Remove `PublicPreviewModal` import
   - Remove `previewOpen` state
   - Remove `showPreviewButton` prop from PromptView
   - Remove `onPreview` handler
   - Remove `PublicPreviewModal` component rendering

**Commit:** `fix(15.4): remove Preview as Public feature (user decision)`

## Verification

After both tasks:
- [ ] `npm run lint` passes
- [ ] `npm run build` passes
- [ ] Dashboard prompt detail shows only visibility toggle in top-right (no extra buttons)
- [ ] No console errors

## Success Criteria

- [ ] View Public Version button removed from all prompts
- [ ] Preview as Public button removed from public prompts
- [ ] PublicPreviewModal.tsx deleted
- [ ] No dead code (unused props, imports, handlers)
- [ ] Build passes
